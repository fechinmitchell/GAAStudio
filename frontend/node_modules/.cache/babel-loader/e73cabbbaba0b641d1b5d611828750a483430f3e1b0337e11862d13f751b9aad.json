{"ast":null,"code":"var _jsxFileName = \"/Users/fechinmitchell/Projects/GAAStudio/frontend/src/components/SignUp.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { getFirestore, doc, setDoc } from \"firebase/firestore\";\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport './AuthForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SignUp() {\n  _s();\n  const [email, setEmail] = useState('');\n  const [fullName, setFullName] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [profilePic, setProfilePic] = useState(null);\n  const [passwordVisible, setPasswordVisible] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n  const auth = getAuth();\n  const firestore = getFirestore();\n  const storage = getStorage();\n  const handleSignUp = async e => {\n    e.preventDefault();\n    if (password !== confirmPassword) {\n      setMessage(\"Passwords don't match.\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      const user = userCredential.user;\n\n      // Upload profile picture to Firebase Storage\n      let profilePicUrl = '';\n      if (profilePic) {\n        const profilePicRef = ref(storage, `profilePics/${user.uid}`);\n        const snapshot = await uploadBytes(profilePicRef, profilePic);\n        profilePicUrl = await getDownloadURL(snapshot.ref);\n      }\n\n      // Save user data to Firestore\n      await setDoc(doc(firestore, \"users\", user.uid), {\n        email,\n        fullName,\n        profilePic: profilePicUrl\n      });\n      setMessage('Successfully signed up!');\n      navigate('/'); // Redirect after successful sign-up\n    } catch (error) {\n      console.error('Error signing up:', error.message);\n      if (error.code === 'auth/email-already-in-use') {\n        setMessage('Email is already in use.');\n      } else {\n        setMessage(error.message);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle file input change\n  const handleFileChange = e => {\n    if (e.target.files[0]) {\n      setProfilePic(e.target.files[0]);\n    } else {\n      setProfilePic(null);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-form-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSignUp,\n      className: \"auth-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        placeholder: \"Email\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: fullName,\n        onChange: e => setFullName(e.target.value),\n        placeholder: \"Full Name\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleFileChange,\n        placeholder: \"Profile Picture\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"password-input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: passwordVisible ? \"text\" : \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"Password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setPasswordVisible(!passwordVisible),\n          className: \"view-password-button\",\n          children: passwordVisible ? \"Hide\" : \"Show\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"password-input-container\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: passwordVisible ? \"text\" : \"password\",\n          value: confirmPassword,\n          onChange: e => setConfirmPassword(e.target.value),\n          placeholder: \"Confirm Password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        children: loading ? 'Signing Up...' : 'Sign Up'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"switch-auth\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Already have an account? \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => navigate('/signin'),\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s(SignUp, \"XRFz2dtFu74Otb+ZuMlteMg+Axs=\", false, function () {\n  return [useNavigate];\n});\n_c = SignUp;\nexport default SignUp;\nvar _c;\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"names":["React","useState","useNavigate","getAuth","createUserWithEmailAndPassword","getFirestore","doc","setDoc","getStorage","ref","uploadBytes","getDownloadURL","jsxDEV","_jsxDEV","SignUp","_s","email","setEmail","fullName","setFullName","password","setPassword","confirmPassword","setConfirmPassword","profilePic","setProfilePic","passwordVisible","setPasswordVisible","loading","setLoading","message","setMessage","navigate","auth","firestore","storage","handleSignUp","e","preventDefault","userCredential","user","profilePicUrl","profilePicRef","uid","snapshot","error","console","code","handleFileChange","target","files","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","placeholder","required","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/fechinmitchell/Projects/GAAStudio/frontend/src/components/SignUp.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { getFirestore, doc, setDoc } from \"firebase/firestore\";\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport './AuthForm.css';\n\nfunction SignUp() {\n  const [email, setEmail] = useState('');\n  const [fullName, setFullName] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [profilePic, setProfilePic] = useState(null);\n  const [passwordVisible, setPasswordVisible] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n\n  const auth = getAuth();\n  const firestore = getFirestore();\n  const storage = getStorage();\n\n  const handleSignUp = async (e) => {\n    e.preventDefault();\n    if (password !== confirmPassword) {\n      setMessage(\"Passwords don't match.\");\n      return;\n    }\n  \n    setLoading(true);\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      const user = userCredential.user;\n  \n      // Upload profile picture to Firebase Storage\n      let profilePicUrl = '';\n      if (profilePic) {\n        const profilePicRef = ref(storage, `profilePics/${user.uid}`);\n        const snapshot = await uploadBytes(profilePicRef, profilePic);\n        profilePicUrl = await getDownloadURL(snapshot.ref);\n      }\n  \n      // Save user data to Firestore\n      await setDoc(doc(firestore, \"users\", user.uid), {\n        email,\n        fullName,\n        profilePic: profilePicUrl\n      });\n  \n      setMessage('Successfully signed up!');\n      navigate('/'); // Redirect after successful sign-up\n    } catch (error) {\n      console.error('Error signing up:', error.message);\n      if (error.code === 'auth/email-already-in-use') {\n        setMessage('Email is already in use.');\n      } else {\n        setMessage(error.message);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle file input change\n  const handleFileChange = (e) => {\n    if (e.target.files[0]) {\n      setProfilePic(e.target.files[0]);\n    } else {\n      setProfilePic(null);\n    }\n  };\n\n  return (\n    <div className=\"auth-form-container\">\n      <form onSubmit={handleSignUp} className=\"auth-form\">\n        <h2>Sign Up</h2>\n        {message && <div className=\"auth-message\">{message}</div>}\n        <input\n          type=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Email\"\n          required\n        />\n        <input\n          type=\"text\"\n          value={fullName}\n          onChange={(e) => setFullName(e.target.value)}\n          placeholder=\"Full Name\"\n          required\n        />\n        <input\n          type=\"file\"\n          onChange={handleFileChange}\n          placeholder=\"Profile Picture\"\n          required\n        />\n        <div className=\"password-input-container\">\n          <input\n            type={passwordVisible ? \"text\" : \"password\"}\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"Password\"\n            required\n          />\n          <button\n            type=\"button\"\n            onClick={() => setPasswordVisible(!passwordVisible)}\n            className=\"view-password-button\"\n          >\n            {passwordVisible ? \"Hide\" : \"Show\"}\n          </button>\n        </div>\n        <div className=\"password-input-container\">\n          <input\n            type={passwordVisible ? \"text\" : \"password\"}\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n            placeholder=\"Confirm Password\"\n            required\n          />\n          {/* Show button is commented out here */}\n        </div>\n        <button type=\"submit\" disabled={loading}>\n          {loading ? 'Signing Up...' : 'Sign Up'}\n        </button>\n        <div className=\"switch-auth\">\n          <span>Already have an account? </span>\n          <button type=\"button\" onClick={() => navigate('/signin')}>Sign In</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default SignUp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}